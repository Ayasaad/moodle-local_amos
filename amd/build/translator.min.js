define ("local_amos/translator",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;a.init=function init(){b()};var b=function(){var a=document.getElementById("amostranslator");a.addEventListener("click",function(a){if(a.target.classList.contains("amostranslation")||a.target.classList.contains("amostranslationview")){var b=a.target.closest("[data-region=\"amostranslatoritem\"]");if("view"==b.getAttribute("data-mode")){c(b,a.ctrlKey)}}});a.addEventListener("blur",function(a){if(a.target.hasAttribute("data-region")&&"amoseditor"==a.target.getAttribute("data-region")){var b=a.target.closest("[data-region=\"amostranslatoritem\"]");d(b)}},!0)},c=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1,c=a.querySelector("[data-region=\"amoseditor\"]"),d=a.querySelector(".amostranslation").clientHeight;c.setAttribute("data-previous",c.value);c.setAttribute("data-nocleaning",b?"nocleaning":"");if(40<d){c.style.height=d-9+"px"}a.setAttribute("data-mode","edit");c.focus()},d=function(a){var b=a.querySelector("[data-region=\"amoseditor\"]"),c=b.getAttribute("data-previous"),d=b.getAttribute("data-nocleaning"),e=b.value;if("nocleaning"!==d){e=e.trim()}if(c===e){b.value=c;a.setAttribute("data-mode","view")}else{b.disabled=!0}}});
//# sourceMappingURL=translator.min.js.map
